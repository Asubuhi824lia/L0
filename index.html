<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/popups.css">
    <link rel="stylesheet" href="./css/fonts-style.css">
    <link rel="stylesheet" media="screen and (width >= 1024px)" href="./css/large.css">
    <link rel="stylesheet" media="screen and (min-width: 320px) and (max-width: 1024px)" href="./css//tablet.css">
    <script src="./js/card.js"></script>
    <script src="./js/popups.js" defer></script>
    <script src="./js/load.js"   defer></script>
    <script src="./js/index.js"  defer></script>
    <script src="./js/inputs.js" defer></script>
</head>

<body class="text_font color_black" onresize="onResize()">
    <template id="sizeTemp">
        <span class="size main_bg-color-secondary card-description_font"><!-- size --></span>
    </template>
    <template id="paramTemp">
        <span class="caption_margin"><!-- Addition param --></span>
    </template>

    <template id="available__cardTemp">
        <div class="available__card card">
            <div class="available__card-header">
                <div class="available__card-left">
                    <img src="" width="80px" height="106px">
                    <label class="checkbox caption_font">
                        <input class="available__card-checkbox" type="checkbox" name="">
                        <span></span>
                    </label>
                    <!-- size num -->
                </div>
                <div class="available__card-right">
                    <div class="available__card-main">
                        <div class="available__card-price">
                            <div class="available__price-value">
                                <span class="subtitle-accent_font"><!-- 522 --></span>
                                <h4 class="subtitle-accent_font available__price-currency"><!--  сом --></h4>
                            </div>
                            <span class="available__prev-cost caption_font color_gray">
                                <span class="available__prev-cost-tag"></span><span class="available__prev-cost-cy"></span><!-- 1051 сом --></span>
                        </div>
                        <p class="available__card-name card-description_font"><!-- Футболка UZcotton мужская --></p>
                    </div>
                    <p class="available__card-apps caption_font">
                        <span class="caption_margin"><!-- Цвет: белый --></span>
                        <span class="caption_margin"><!-- Размер: 56 --></span>
                    </p>
                    <p class="available__card-location caption_font color_gray"><!-- Коледино WB --></p>
                    <p class="available__card-company caption_font color_gray">
                        <span><!-- OOO Вайлдберриз --></span>
                        <img src="./icons/basket/info.svg" width="16px" height="16px">
                    </p>
                </div>
            </div>
            <div class="available__card-footer">
                <div class="amount">
                    <div class="counter color_black counter_font main_bg-color-secondary">
                        <span class="counter__dec">−</span>
                        <span class="counter__num card-description_font"><!-- 1 --></span>
                        <span class="counter__inc">+</span>
                    </div>
                    <div class="available__card-amount">
                        <span class="left-amount caption_font color_red"><!-- Осталось 2 шт. --></span>
                    </div>
                </div>
                <div class="actions">
                    <button class="actions__to-like">
                        <img src="./icons/basket/to_like.svg" width="20px" height="20px">
                    </button>
                    <button class="actions__to-basket">
                        <img src="./icons/basket/to_basket.svg" width="20px" height="20px">
                    </button>
                </div>
            </div>
            <div class="available__card-price">
                <div class="available__price-value">
                    <span class="litle-price_font"><!-- 522 --></span>
                    <h4 class="subtitle-accent_font available__price-currency"><!-- сом --></h4>
                </div>
                <span class="available__prev-cost caption_font color_gray">
                    <span class="available__prev-cost-tag"
                    data-tooltip="
                    <table style='border-spacing: 8px 8px'>
                        <tbody>
                            <tr>
                                <td class='color_gray'>Скидка 55%</td>
                                <td style='text-align:right'>−300 сом</td>
                            </tr>
                            <tr>
                                <td class='color_gray'>Скидка покупателя 10%</td>
                                <td style='text-align:right'>−30 сом</td>
                            </tr>
                        </tbody>
                    </table>
                    "><!-- 1051 --></span>
                    <span class="available__prev-cost-cy"><!-- сом --></span>
                </span>
            </div>
        </div>
    </template>
    <template id="unavailable__cardTemp">
        <div class="unavailable__card card">
            <div class="unavailable__card-header">
                <div class="unavailable__card-left">
                    <img src="" width="80px" height="106px">
                    <span class="size main_bg-color-secondary card-description_font"><!-- 56 --></span>
                </div>
                <div class="unavailable__card-right color_gray">
                    <p class="unavailable__card-name card-description_font"><!-- Футболка UZcotton мужская --></p>
                    <p class="unavailable__card-apps caption_font">
                        <span class="caption_margin"><!-- Цвет: белый --></span>
                        <span class="caption_margin"><!-- Размер: 56 --></span>
                    </p>
                </div>
            </div>
            <div class="unavailable__card-footer">
                <div class="actions">
                    <button class="actions__to-like">
                        <img src="./icons/basket/to_like.svg" width="20px" height="20px">
                    </button>
                    <button class="actions__to-basket">
                        <img src="./icons/basket/to_basket.svg" width="20px" height="20px">
                    </button>
                </div>
            </div>
        </div>
    </template>


    <div class="popup__bg popup-pay__bg">
        <div class="popup popup-pay">
            <section>
                <header>
                    <h3 class="popup-delivery__header_font color_black">Способ оплаты</h3>
                    <img src="./icons/popup/close.svg" class="close close-popup-pay" width="24px" height="24px">
                </header>

                <main class="pay-ways">
                    <label class="pay-ways__option">
                        <input type="radio" checked>
                        <img src="./icons/get/mir_pay.svg" width="32px" height="24px">
                        <span class="card-number text_font">1234 56•• •••• 1234</span>
                    </label>
                    <label class="pay-ways__option">
                        <input type="radio">
                        <img src="./icons/get/visa_pay.svg" width="32px" height="24px">
                        <span class="card-number text_font">1234 56•• •••• 1234</span>
                    </label>
                    <label class="pay-ways__option">
                        <input type="radio">
                        <img src="./icons/get/mastercard_pay.svg" width="32px" height="24px">
                        <span class="card-number text_font">1234 56•• •••• 1234</span>
                    </label>
                    <label class="pay-ways__option">
                        <input type="radio">
                        <img src="./icons/get/maestro_pay.svg" width="32px" height="24px">
                        <span class="card-number text_font">1234 56•• •••• 1234</span>
                    </label>
                </main>
            </section>

            <button class="button bg-color_pink subtitle-accent_font color_white">Выбрать</button>
        </div>
    </div>
    <div class="popup__bg popup-delivery__bg">
        <div class="popup popup-delivery">
            <section>
                <header>
                    <h3 class="popup-delivery__header_font color_black">Способ доставки</h3>
                    <img src="./icons/popup/close.svg" class="close close-popup-delivery" width="24px" height="24px">
                </header>

                <main>
                    <section class="delivery-ways">
                        <button class="caption-bold_font color_black button_border-color_chosen">В пункт выдачи</button>
                        <button class="caption-bold_font color_black button_border-color_disabled">Курьером</button>
                    </section>
                    <section class="delivery-addresses">
                        <h4 class="caption-bold_font color_black">Мои адреса</h4>
                        <label class="delivery-addresses__option">
                            <input type="radio">
                            <span class="card-number text_font">Бишкек, улица Табышалиева, 57</span>
                            <button class="actions__to-basket">
                                <img src="./icons/basket/to_basket.svg" width="20px" height="20px">
                            </button>
                        </label>
                        <label class="delivery-addresses__option">
                            <input type="radio">
                            <span class="card-number text_font">Бишкек, улица Жукеева-Пудовкина, 77/1</span>
                            <button class="actions__to-basket">
                                <img src="./icons/basket/to_basket.svg" width="20px" height="20px">
                            </button>
                        </label>
                        <label class="delivery-addresses__option">
                            <input type="radio">
                            <span class="card-number text_font">Бишкек, микрорайон Джал, улица Ахунбаева Исы, 67/1</span>
                            <button class="actions__to-basket">
                                <img src="./icons/basket/to_basket.svg" width="20px" height="20px">
                            </button>
                        </label>
                    </section>
                </main>
            </section>

            <button class="button bg-color_pink subtitle-accent_font color_white">Выбрать</button>
        </div>
    </div>


    <div class="wrapper wrapper_bg-color">
        <header class="header color_white">
            <div class="header__mobile">
                <a id="burger">
                    <img src="./icons/header/burger.svg" width="22.5px" height="18.5px">
                </a>
                <h1 class="site-header color_white header__title_font">товары и точка</h1>
                <a id="search">
                    <img src="./icons/header/search.svg" width="20.14px" height="20.14px">
                </a>
            </div>
            <div class="header__large">
                <div class="header__left"> 
                    <a id="burger">
                        <img src="./icons/header/burger-large.svg" width="48px" height="48px">
                    </a>
                    <h1 class="site-header color_white header__title_font">товары и точка</h1>
                </div>
                <div class="header__search"> 
                    <input id="search-input" type="text" value="Я ищу...">
                    <img src="./icons/header/search.svg" width="24px" height="24px">
                </div>
                <div class="header__right">
                    <div class="header__point">
                        <div class="header__point-item">
                            <img src="./icons/header/profile.svg" width="28px" height="28px">
                        </div>
                        <p class="caption_font">Профиль</p>
                    </div>
                    <div class="header__point">
                        <div class="header__point-item">
                            <img src="./icons/header/cart.svg" width="28px" height="28px">
                            <div class="cart-num color_white tab-cart__num tabbar__card-num_font">3</div>
                        </div>
                        <p class="caption_font">Корзина</p>
                    </div>
                </div>
            </div>
        </header>
        <main class="main main_bg-color-primary">
            <section class="main__info">
                <section class="basket">
                    <h2 class="basket__title_font">Корзина</h2>
                    <section class="basket__content">
                        <section class="available">
                            <div class="available-header">
                                <label class="checkbox caption_font">
                                    <input type="checkbox" name="" id="selectAll">
                                    <span></span>
                                </label>
                                <span class="available-header_subtitle text_font">Выбрать все</span>
                                <a class="list-visibility" id="collapseAvailable">
                                    <img src="./icons/basket/to_collapse.svg" width="16px" height="9.6px" class="transform_rotate_zero">
                                </a>
                            </div>
                            <section id="available__products-list" class="display_b">
                            </section>
                        </section>
                        <section class="unavailable">
                            <div class="unavailable-header">
                                <h4 class="unavailable-header_subtitle subtitle_font">Отсутствуют · 3 товара</h4>
                                <a class="list-visibility" id="collapseUnavailable">
                                    <img src="./icons/basket/to_collapse.svg" width="16px" height="9.6px" class="transform_rotate_zero">
                                </a>
                            </div>
                            <section id="unavailable__products-list" class="display_b">
                            </section>
                        </section>
                    </section>
                </section>
                <section class="get">
                    <section class="way-delivery main_bg-color-secondary">
                        <div class="way__header">
                            <h3 class="get__title_font color_black">Способ доставки</h3>
                            <a class="open-popup-delivery change-btn subtitle-accent_font color_pink">Изменить</a>
                        </div>
                        <div class="way-delivery__point">
                            <h4 class="subtitle_font">Пункт выдачи</h4>
                            <div class="point-info">
                                <p class="text_font">Бишкек, улица Ахматбека Суюмбаева, 12/1</p>
                                <div class="card-rating caption_font">
                                    <div class="rating">
                                        <img src="./icons/get/star.svg">
                                        <span>4.99</span>
                                    </div>
                                    <span>Ежедневно с 10 до 21</span>
                                </div>
                            </div>
                        </div>
                        <div class="way-delivery__cost">
                            <h4 class="subtitle_font">Стоимость доставки</h4>
                            <p class="text_font">Бесплатно</p>
                        </div>
                        <div class="way-delivery__products">
                            <div class="frame">
                                <h3 class="subtitle_font color_black">5—6 февраля</h3>
                                <div class="frame__items">
                                    <div class="frame__item">
                                        <img src="./img/product1_preview.svg" width="40.93px" height="56px">
                                    </div>
                                    <div class="frame__item">
                                        <img src="./img/product2_preview.svg" width="40.93px" height="56px">
                                        <div class="cart-num color_white card-num_font frame__item-num-ternary">184</div>
                                    </div>
                                    <div class="frame__item">
                                        <img src="./img/product3_preview.svg" width="40.93px" height="56px">
                                        <div class="cart-num color_white card-num_font frame__item-num-singular">2</div>
                                    </div>
                                </div>
                            </div>
                            <div class="frame">
                                <h3 class="subtitle_font color_black">7—8 февраля</h3>
                                <div class="frame__items">
                                    <div class="frame__item">
                                        <img src="./img/product2_preview.svg" width="40.93px" height="56px">
                                        <div class="cart-num color_white card-num_font frame__item-num-binary">16</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="way-delivery__bonus">
                            <div class="bonus caption_font color_black">
                                <img src="./icons/get/bonus_checked.svg" width="22px" height="22px">
                                <p>Обратная доставка товаров на склад при отказе — 
                                    <span data-tooltip="Если товары вам не подойдут, мы вернем<br>их обратно на склад — это бесплатно"
                                    class="color_green bonus__free_border-bottom">бесплатно</span>
                                </p>
                            </div>
                        </div>
                    </section>
                    <section class="way-pay main_bg-color-secondary">
                        <div class="way__header way-pay__header">
                            <h3 class="get__title_font color_black">Способ оплаты</h3>
                            <a class="open-popup-pay change-btn subtitle-accent_font color_pink">Изменить</a>
                        </div>
                        <div class="card-info text_font">
                            <img src="./icons/get/mir_pay.svg" width="32px" height="24px">
                            <p class="card-info__nums">
                                <span class="card-num">1234 56•• •••• 1234</span>
                                <span class="card-validity">01/30</span>
                            </p>
                        </div>
                        <div class="way-pay__caption caption_font color_gray">
                            <p>Спишем оплату с карты при получении</p>
                        </div>
                    </section>
                    <section class="recipient main_bg-color-secondary">
                        <h3 class="get__title_font">Получатель</h3>
                        <div class="recipient__fields">
                            <div class="recipient__field-block">
                                <label class="recipient__label" id="name">
                                    <span class="explain recipient__input-header_font color_red"> </span>
                                    <input class="text_font" id="name" placeholder="Имя" type="text" value="" required>
                                    <span class="recipient__label-prompt recipient__input-header_font recipient__input-header_color">Имя</span>
                                </label>
                                <label class="recipient__label" id="surname">
                                    <span class="explain recipient__input-header_font color_red"> </span>
                                    <input class="text_font" id="surname" placeholder="Фамилия" type="text" value="" required>
                                    <span class="recipient__label-prompt recipient__input-header_font recipient__input-header_color">Фамилия</span>
                                </label>
                            </div>
                            <div class="recipient__field-block">
                                <label class="recipient__label" id="email">
                                    <span class="explain recipient__input-header_font color_red"> </span>
                                    <input class="text_font" id="email" placeholder="Электронная почта" type="text" value="" required>
                                    <span class="recipient__label-prompt recipient__input-header_font recipient__input-header_color">Электронная почта</span>
                                </label>
                                <label class="recipient__label" id="phone">
                                    <span class="explain recipient__input-header_font color_red"> </span>
                                    <input class="text_font" id="phone" placeholder="Телефон" type="text" required>
                                    <span class="recipient__label-prompt recipient__input-header_font recipient__input-header_color">Телефон</span>
                                </label>
                                <label class="recipient__label" id="inn">
                                    <span class="explain recipient__input-header_font recipient__input-header_color">Для таможенного оформления</span>
                                    <input class="text_font" id="inn" placeholder="ИНН" type="text" value="" title="Введите 14 цифр" pattern="^[0-9]{14}$" required>
                                    <span class="recipient__label-prompt recipient__input-header_font recipient__input-header_color">ИНН</span>
                                </label>
                            </div>
                        </div>
                    </section>
                </section>
            </section>
            <section class="total">
                <div class="total__price">
                    <h3 class="total__price-total get__title_font"><span>Итого</span>
                        <span><span>2 101 063</span><span class="basket__currency_font"> сом</span></span>
                    </h3>
                    <article class="total__price-points">
                        <p class="total__price-point text_font"><span>203 товара</span>
                            <span><span class="total__price-tag total__price-prev">2 302 048</span> сом</span></p>
                        <p class="total__price-point text_font"><span>Скидка</span>
                            <span><span class="total__price-tag total__price-discount">−200 985</span> сом</span></p>
                        <p class="total__price-point text_font"><span>Доставка</span><span>Бесплатно</span></p>
                    </article>
                </div>
                <div class="total__way-delivery">
                    <div class="total__way-pay-header">
                        <div class="subtitle-accent_font">Доставка в пункт выдачи</div>
                        <img class="open-popup-delivery edit-btn" src="./icons/get/edit.svg" width="16px" height="16px">
                    </div>
                    <p class="caption_font">Бишкек, улица Ахматбека Суюмбаева, 12/1</p>
                    <span class="total__delivery-period caption_font color_pink">5–8 фев</span>
                </div>
                <div class="total__bonus bg-color_smoky-dark">
                    <div class="bonus caption_font color_black">
                        <img src="./icons/get/bonus_checked.svg" width="22px" height="22px">
                        <p>Обратная доставка товаров на склад при отказе — 
                            <span data-tooltip="Если товары вам не подойдут, мы вернем<br>их обратно на склад — это бесплатно"
                            class="color_green bonus__free_border-bottom">бесплатно</span></p>
                    </div>
                </div>
                <div class="total__way-pay">
                    <div class="total__way-pay-header">
                        <div class="subtitle-accent_font">Оплата картой</div>
                        <img class="open-popup-pay edit-btn" src="./icons/get/edit.svg" width="16px" height="16px">
                    </div>
                    <div class="card-info caption_font">
                        <img src="./icons/get/mir_pay.svg" width="32px" height="24px">
                        <p class="card-info__nums">
                            <span class="card-num">1234 56•• •••• 1234</span>
                            <span class="card-validity">01/30</span>
                        </p>
                    </div>
                </div>
                <div class="write-off-way bg-color_smoky-dark caption_font color_black">
                    <div class="choose">
                        <label class="checkbox caption_font">
                            <input type="checkbox" name="" id="pay-immediately">
                            <span></span>
                        </label>Списать оплату сразу
                    </div>
                    <p class="description">Спишем оплату с карты при получении</p>
                </div>
                <button class="button bg-color_pink subtitle-accent_font color_white" id="total__order">Заказать</button>
                <div class="total__agree caption_font color_black">
                    <img src="./icons/get/rules_checked.svg" width="12.51px" height="10.16px">
                    <p>Соглашаюсь <span> с правилами пользования торговой площадкой</span> и <span> возврата</span></p>
                </div>
            </section>
        </main>
        <footer class="footer">
            <p class="caption_font footer__caption-text">© 2022  ООО «Товары и точка»</p>
        </footer>
        <section class="tabbar main_bg-color-secondary">
            <a class="tab"><img src="./icons/tabbar/main.svg"></a>
            <a class="tab"><img src="./icons/tabbar/catalog.svg"></a>
            <a class="tab tab-cart">
                <img src="./icons/tabbar/cart-sel.svg">
                <div class="cart-num color_white tab-cart__num tabbar__card-num_font">3</div>
            </a>
            <a class="tab tab-cart">
                <img src="./icons/tabbar/favorites.svg">
                <div class="cart-num color_white tab-favorites__num tabbar__card-num_font display_n">0</div>
            </a>
            <a class="tab"><img src="./icons/tabbar/profile.svg"></a>
        </section>
    </div>



    <script>
        let card_names = [];
        function onResize() 
        {
            if(window.innerWidth >= 1024) {
                document.querySelectorAll(".unavailable__card-name").forEach(element => {
                    element.classList.remove("card-description_font")
                    element.classList.add("text_font")
                });
            
                document.querySelectorAll(".size").forEach(el => {el.classList.add("visibility_h");el.classList.remove("visibility_v")})

                document.querySelectorAll(".total__bonus, .write-off-way").forEach(element => {
                    element.classList.remove("bg-color_smoky-dark")
                    element.classList.add("main_bg-color-primary")
                })

                let available__card   = document.querySelectorAll(".available__card-name")
                let unavailable__card = document.querySelectorAll(".unavailable__card-name")
                
                if(available__card.length == 0 || unavailable__card.length == 0) return;
                card_names.forEach((card, index) => {
                    if(available__card[index].innerText == card.full) return;
                    else {
                        available__card[index].innerText = card.full;
                        unavailable__card[index].innerText = card.full;
                    }
                })
            } else {
                document.querySelectorAll(".unavailable__card-name").forEach(element => {
                    element.classList.remove("text_font")
                    element.classList.add("card-description_font")
                });
            
                document.querySelectorAll(".size").forEach(el => {el.classList.remove("visibility_h");el.classList.add("visibility_v")})

                document.querySelectorAll(".total__bonus, .write-off-way").forEach(element => {
                    element.classList.add("bg-color_smoky-dark")
                    element.classList.remove("main_bg-color-primary")
                })

                let available__card = document.querySelectorAll(".available__card-name")
                let unavailable__card = document.querySelectorAll(".unavailable__card-name")
                card_names.forEach((card, index) => {
                    if(card.short) {
                        available__card[index].innerText   = card.short+"..."
                        unavailable__card[index].innerText = card.short+"..."
                    }
                })
            }
        }
    </script>
</body>

</html>